import { Story } from '@storybook/addon-docs';

# Content Tree

---

[Modus Content Tree](https://modus.trimble.com/components/content-tree/) provides users with a way to navigate nested hierarchical information using a parent-child relationship model.
It is located on the left side of the screen and cannot be combined with Side Navigation or Toolbar.

#### Implementation Details

- Content tree can be created using the components `modus-tree-view` in the root and `modus-tree-view-item` for nodes.
- The `modus-tree-view-item` takes `nodeId` which should be a unique id and the `label` prop to display the node text.
- Clicking on collapse/expand button expands or collapse a tree view item and clicking on the node selects it.
- By default multiple items selection is disabled. The prop `multi-selection` lets multiple items to be selected using `Shift + Up/Down arrow` and `Ctrl + click`.
- Checkbox selection can be enabled using the prop `checkbox-selection` and to let multiple checkbox selection use the prop `multi-checkbox-selection`.
- This component utilizes the slot element, allowing you to render custom expand icon, collapse icon, drag icon, item icon and the slot names are `expandIcon`, `collapseIcon`, `dragIcon`, `itemIcon`.
- By default `label` prop is used for displaying the node text. Custom label element can be added through the slot `label`.

### Default

<Story id="components-content-tree--default" />

```html
<modus-tree-view
  style="width:400px;"
  checkbox-selection="false"
  checked-items="false"
  expanded-items="false"
  multi-checkbox-selection="false"
  multi-selection="false"
  selected-items="false"
  size=""
  class="hydrated">
  <modus-tree-view-item node-id="1" label="Inbox" class="hydrated">
    <modus-tree-view-item
      node-id="2"
      label="Personal"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="3"
      label="Work"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="4"
      label="Social"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="5"
      label="More ..."
      class="hydrated"></modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item node-id="6" label="Archived" class="hydrated">
    <modus-tree-view-item node-id="7" label="Folder1" class="hydrated">
      <modus-tree-view-item
        node-id="8"
        label="File1"
        class="hydrated"></modus-tree-view-item>
      <modus-tree-view-item node-id="9" label="Folder2" class="hydrated">
        <modus-tree-view-item
          node-id="10"
          label="File2"
          class="hydrated"></modus-tree-view-item>
      </modus-tree-view-item>
      <modus-tree-view-item
        node-id="11"
        label="File3"
        class="hydrated"></modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item
    node-id="12"
    label="Spam"
    class="hydrated"></modus-tree-view-item>
</modus-tree-view>
```

### With Icon

<Story id="components-content-tree--with-icon" />

```html
<modus-tree-view style="width:400px;" class="hydrated">
  <modus-tree-view-item node-id="1" label="Inbox" class="hydrated">
    <svg
      slot="itemIcon"
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      height="16"
      width="16"
      viewBox="0 0 32 32">
      <path
        d="M28.79 12.39A1 1 0 0 0 28 12h-2V9c0-.55-.45-1-1-1h-9.59l-1.7-1.71C13.52 6.11 13.27 6 13 6H4c-.55 0-1 .45-1 1v17c0 .04.02.07.02.11.01.05.02.11.04.16.02.09.06.17.1.25.02.03.02.06.05.09.01.01.03.02.04.03.07.08.15.14.23.19.04.03.06.05.1.07.13.06.27.1.42.1h21c.13 0 .25-.03.36-.07.04-.02.07-.04.1-.06.07-.04.14-.08.2-.13.03-.03.06-.06.09-.1.05-.05.09-.11.12-.18a.31.31 0 0 0 .06-.13c.01-.02.03-.04.03-.07l3-11c.09-.3.02-.62-.17-.87zM5 8h7.59l1.7 1.71c.19.18.44.29.71.29h9v2H7c-.45 0-.85.3-.96.74L5 16.53V8z"></path>
    </svg>
    <modus-tree-view-item
      node-id="2"
      label="Personal"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="3"
      label="Work"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="4"
      label="Social"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="5"
      label="More ..."
      is-last-child="true"
      class="hydrated"></modus-tree-view-item>
  </modus-tree-view-item>
</modus-tree-view>
```

### Condensed

<Story id="components-content-tree--condensed" />

```html
<modus-tree-view
  style="width:400px;"
  checkbox-selection="true"
  checked-items="false"
  expanded-items="false"
  multi-checkbox-selection="false"
  multi-selection="false"
  selected-items="false"
  size="condensed"
  class="hydrated">
  <modus-tree-view-item node-id="1" label="Inbox" class="hydrated">
    <modus-tree-view-item
      node-id="2"
      label="Personal"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="3"
      label="Work"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="4"
      label="Social"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="5"
      label="More ..."
      class="hydrated"></modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item node-id="6" label="Archived" class="hydrated">
    <modus-tree-view-item node-id="7" label="Folder1" class="hydrated">
      <modus-tree-view-item
        node-id="8"
        label="File1"
        class="hydrated"></modus-tree-view-item>
      <modus-tree-view-item node-id="9" label="Folder2" class="hydrated">
        <modus-tree-view-item
          node-id="10"
          label="File2"
          class="hydrated"></modus-tree-view-item>
      </modus-tree-view-item>
      <modus-tree-view-item
        node-id="11"
        label="File3"
        class="hydrated"></modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item
    node-id="12"
    label="Spam"
    class="hydrated"></modus-tree-view-item>
</modus-tree-view>
```

### Borderless

<Story id="components-content-tree--borderless" />

```html
<modus-tree-view
  borderless="true"
  style="width:400px;"
  checkbox-selection="true"
  checked-items="false"
  expanded-items="false"
  multi-checkbox-selection="false"
  multi-selection="false"
  selected-items="false"
  size="condensed">
  <modus-tree-view-item node-id="1" label="Inbox" class="hydrated">
    <modus-tree-view-item
      node-id="2"
      label="Personal"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="3"
      label="Work"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="4"
      label="Social"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="5"
      label="More ..."
      class="hydrated"></modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item node-id="6" label="Archived" class="hydrated">
    <modus-tree-view-item node-id="7" label="Folder1" class="hydrated">
      <modus-tree-view-item
        node-id="8"
        label="File1"
        class="hydrated"></modus-tree-view-item>
      <modus-tree-view-item node-id="9" label="Folder2" class="hydrated">
        <modus-tree-view-item
          node-id="10"
          label="File2"
          class="hydrated"></modus-tree-view-item>
      </modus-tree-view-item>
      <modus-tree-view-item
        node-id="11"
        label="File3"
        class="hydrated"></modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item
    node-id="12"
    label="Spam"
    class="hydrated"></modus-tree-view-item>
</modus-tree-view>
```

### Multi Selection

<Story id="components-content-tree--multi-selection" />

```html
<modus-tree-view
  style="width:400px;"
  checkbox-selection="true"
  checked-items="false"
  expanded-items="false"
  multi-checkbox-selection="true"
  multi-selection="true"
  selected-items="false"
  size=""
  class="hydrated">
  <modus-tree-view-item node-id="1" label="Inbox" class="hydrated">
    <modus-tree-view-item
      node-id="2"
      label="Personal"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="3"
      label="Work"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="4"
      label="Social"
      class="hydrated"></modus-tree-view-item>
    <modus-tree-view-item
      node-id="5"
      label="More ..."
      class="hydrated"></modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item node-id="6" label="Archived" class="hydrated">
    <modus-tree-view-item node-id="7" label="Folder1" class="hydrated">
      <modus-tree-view-item
        node-id="8"
        label="File1"
        class="hydrated"></modus-tree-view-item>
      <modus-tree-view-item node-id="9" label="Folder2" class="hydrated">
        <modus-tree-view-item
          node-id="10"
          label="File2"
          class="hydrated"></modus-tree-view-item>
      </modus-tree-view-item>
      <modus-tree-view-item
        node-id="11"
        label="File3"
        class="hydrated"></modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view-item>
  <modus-tree-view-item
    node-id="12"
    label="Spam"
    class="hydrated"></modus-tree-view-item>
</modus-tree-view>
```

### Custom Action Bar

<Story id="components-content-tree--custom-action-bar" />

```html
<div
  id="tree-with-action-bar"
  style="display: flex; flex-direction: column; width: 400px;">
  <div
    style="display: flex; justify-content: end; flex-wrap: wrap; margin-top: 1rem;">
    <modus-button
      button-style="borderless"
      aria-label="Add"
      title="Add"
      size="small"
      color="primary"
      disabled
      id="add">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="none" />
        <path d="M19,13H13v6H11V13H5V11h6V5h2v6h6Z" fill="#252a2e" />
      </svg>
    </modus-button>
    <modus-button
      button-style="borderless"
      aria-label="Remove"
      title="Remove"
      size="small"
      color="primary"
      disabled
      id="remove">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="none" />
        <path
          d="M6,19a2.006,2.006,0,0,0,2,2h8a2.006,2.006,0,0,0,2-2V7H6ZM19,4H15.5l-1-1h-5l-1,1H5V6H19Z"
          fill="#252a2e" />
      </svg>
    </modus-button>
    <modus-button
      button-style="borderless"
      size="small"
      aria-label="Edit"
      title="Edit"
      color="primary"
      disabled
      id="edit">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="none" />
        <path
          d="M3,17.25V21H6.75L17.81,9.94,14.06,6.19ZM20.71,7.04a1,1,0,0,0,0-1.41L18.37,3.29a1,1,0,0,0-1.41,0L15.13,5.12l3.75,3.75,1.83-1.83Z"
          fill="#252a2e" />
      </svg>
    </modus-button>
    <modus-button
      button-style="borderless"
      size="small"
      aria-label="Copy"
      title="Copy"
      color="primary"
      disabled
      id="copy">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="none" />
        <path
          d="M16,1H4A2.006,2.006,0,0,0,2,3V17H4V3H16Zm3,4H8A2.006,2.006,0,0,0,6,7V21a2.006,2.006,0,0,0,2,2H19a2.006,2.006,0,0,0,2-2V7A2.006,2.006,0,0,0,19,5Zm0,16H8V7H19Z"
          fill="#252a2e" />
      </svg>
    </modus-button>
    <modus-button
      button-style="borderless"
      size="small"
      aria-label="Drag"
      title="Drag"
      color="primary"
      disabled
      id="drag">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path
          d="M11,18a2,2,0,1,1-2-2A2.006,2.006,0,0,1,11,18ZM9,10a2,2,0,1,0,2,2A2.006,2.006,0,0,0,9,10ZM9,4a2,2,0,1,0,2,2A2.006,2.006,0,0,0,9,4Zm6,4a2,2,0,1,0-2-2A2.006,2.006,0,0,0,15,8Zm0,2a2,2,0,1,0,2,2A2.006,2.006,0,0,0,15,10Zm0,6a2,2,0,1,0,2,2A2.006,2.006,0,0,0,15,16Z"
          fill="#252a2e" />
      </svg>
    </modus-button>
    <modus-button
      button-style="borderless"
      size="small"
      aria-label="Expand"
      title="Expand"
      color="primary"
      disabled
      id="expand">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="rgba(0,0,0,0)" />
        <path
          d="M12,5.83,15.17,9l1.41-1.41L12,3,7.41,7.59,8.83,9Zm0,12.34L8.83,15,7.42,16.41,12,21l4.59-4.59L15.17,15Z"
          fill="#252a2e" /></svg
    ></modus-button>
    <modus-button
      button-style="borderless"
      size="small"
      aria-label="Collapse"
      title="Collapse"
      color="primary"
      disabled
      style="display: none"
      id="collapse">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24">
        <path d="M0,0H24V24H0Z" fill="none" />
        <path
          d="M7.41,18.59,8.83,20,12,16.83,15.17,20l1.41-1.41L12,14ZM16.59,5.41,15.17,4,12,7.17,8.83,4,7.41,5.41,12,10Z"
          fill="#252a2e" />
      </svg>
    </modus-button>
  </div>
  <modus-tree-view>
    <modus-tree-view-item node-Id="1" label="Inbox">
      <modus-tree-view-item node-Id="2" label="Personal"></modus-tree-view-item>
      <modus-tree-view-item node-Id="3" label="Work"></modus-tree-view-item>
      <modus-tree-view-item node-Id="4" label="Social"></modus-tree-view-item>
      <modus-tree-view-item node-Id="5" label="More ..."></modus-tree-view-item>
    </modus-tree-view-item>
    <modus-tree-view-item node-Id="6" label="Archived">
      <modus-tree-view-item node-Id="7 is-last-child="true" label="Folder1">
        <modus-tree-view-item node-Id="8" label="File1"></modus-tree-view-item>
        <modus-tree-view-item node-Id="9" is-last-child="true" label="File3"></modus-tree-view-item>
      </modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view>
</div>
<script>
  function actionBarScript() {
    const container = document.querySelector("div[id='tree-with-action-bar']");
    const root = container.querySelector('modus-tree-view');
    const addButton = container.querySelector("modus-button[id='add']");
    const removeButton = container.querySelector("modus-button[id='remove']");
    const editButton = container.querySelector("modus-button[id='edit']");
    const copyButton = container.querySelector("modus-button[id='copy']");
    const expandAllButton = container.querySelector(
      "modus-button[id='expand']"
    );
    const collapseAllButton = container.querySelector(
      "modus-button[id='collapse']"
    );
    const dragButton = container.querySelector("modus-button[id='drag']");

    const disableButtons = (disable) => {
      removeButton.disabled = disable;
      copyButton.disabled = disable;
      editButton.disabled = disable;
    };
    const getChildren = (element) => {
      const children = element.querySelectorAll('modus-tree-view-item');
      if (!children) return [];
      return Array.from(children).reduce((r, c) => {
        r.push(c, ...getChildren(c));
        return r;
      }, []);
    };
    const getItems = () =>
      new Map(
        Array.from(root.querySelectorAll('modus-tree-view-item')).map((i) => [
          i.nodeId,
          i.label,
        ])
      );
    const querySelect = (itemId) =>
      container.querySelector("modus-tree-view-item[node-id='" + itemId + "']");

    addButton.disabled = false;
    expandAllButton.disabled = false;
    collapseAllButton.disabled = false;

    container.addEventListener('itemClick', () => {
      if (root.selectedItems.length > 0) {
        disableButtons(false);
      } else {
        disableButtons(true);
      }
    });

    addButton.addEventListener('buttonClick', () => {
      const nodeId =
        container.querySelectorAll('modus-tree-view-item').length + 1;
      const selectedItems = root.selectedItems;
      if (nodeId) {
        const selectedItemId =
          selectedItems && selectedItems.length > 0 ? selectedItems[0] : null;
        const selectedItemElement = querySelect(selectedItemId);
        const selectedItemParent = selectedItemElement?.parentElement;
        const newNode = document.createElement('modus-tree-view-item');
        newNode.nodeId = nodeId;
        newNode.editable = true;
        const insertParent = selectedItemParent || root;
        const insertBeforeElement =
          selectedItemElement || root.firstElementChild;
        insertParent.insertBefore(newNode, insertBeforeElement);
      }
    });

    removeButton.addEventListener('buttonClick', () => {
      const selectedItems = root.selectedItems;
      selectedItems?.forEach((i) => {
        const selectedItemElement = querySelect(i);
        const selectedItemParent = selectedItemElement?.parentElement;
        if (selectedItemElement) {
          selectedItemParent.removeChild(selectedItemElement);
        }
      });

      if (!Array.from(getItems()).length) {
        container
          .querySelectorAll('modus-button')
          .forEach((b) => (b.disabled = true));
      } else disableButtons(true);
    });

    editButton.addEventListener('buttonClick', () => {
      const selectedItems = root.selectedItems;
      const selectedItemId =
        selectedItems && selectedItems.length > 0 ? selectedItems[0] : null;
      const selectedItemElement = querySelect(selectedItemId);
      selectedItemElement.editable = true;
    });

    copyButton.addEventListener('buttonClick', () => {
      const nodeId =
        container.querySelectorAll('modus-tree-view-item').length + 1;
      const selectedItems = root.selectedItems;
      const selectedItemId =
        selectedItems && selectedItems.length > 0 ? selectedItems[0] : null;
      const selectedItemElement = querySelect(selectedItemId);
      if (selectedItemElement) {
        const newNode = selectedItemElement.cloneNode(true);
        newNode.nodeId = nodeId;
        newNode.editable = true;
        newNode.label = 'Copy of ' + selectedItemElement.label;

        let count = nodeId + 1;
        getChildren(newNode).forEach((c) => {
          c.nodeId = count;
          count++;
        });

        (selectedItemElement.parentElement || root).insertBefore(
          newNode,
          selectedItemElement
        );
      }
    });

    expandAllButton.addEventListener('buttonClick', () => {
      root.expandedItems = Array.from(getItems().keys());
      expandAllButton.style.display = 'none';
      collapseAllButton.style.display = 'inline-block';
    });

    collapseAllButton.addEventListener('buttonClick', () => {
      root.expandedItems = [];
      collapseAllButton.style.display = 'none';
      expandAllButton.style.display = 'inline-block';
    });

    dragButton.addEventListener('buttonClick', () => {
      const isDraggable = !root.children[0].draggableItem;
      getItems().forEach((val, key) => {
        const element = querySelect(key);
        element.draggableItem = isDraggable;
        element.droppableItem = true;
      });
    });
  }
  actionBarScript();
</script>
```

### Custom Filter

<Story id="components-content-tree--custom-filter" />

```html
<div
  id="tree-with-filter"
  style="display: flex; flex-direction: column; width: 400px;">
  <modus-text-input
    id="filter"
    size="large"
    placeholder="Search"
    disabled="true"
    include-search-icon></modus-text-input>
  <modus-tree-view>
    <modus-tree-view-item node-Id="1">
      <div slot="label">Inbox</div>
      <modus-tree-view-item node-Id="2">
        <div slot="label">Personal</div>
      </modus-tree-view-item>
      <modus-tree-view-item node-Id="5">
        <div slot="label">More ...</div>
      </modus-tree-view-item>
    </modus-tree-view-item>
    <modus-tree-view-item node-Id="6">
      <div slot="label">Archived</div>
      <modus-tree-view-item is-last-child="true" node-Id="7">
        <div slot="label">Folder1</div>
        <modus-tree-view-item node-Id="8">
          <div slot="label">File1</div>
        </modus-tree-view-item>
        <modus-tree-view-item is-last-child="true" node-Id="11">
          <div slot="label">File2</div>
        </modus-tree-view-item>
      </modus-tree-view-item>
    </modus-tree-view-item>
  </modus-tree-view>
</div>
<script>
  function filterScript() {
    const container = document.querySelector("div[id='tree-with-filter']");
    const root = container.querySelector('modus-tree-view');

    let items = new Map();
    container.querySelectorAll('modus-tree-view-item').forEach((element) => {
      items.set(
        element.nodeId,
        element.querySelector("div[slot='label']").innerHTML
      );
    });
    root.expandedItems = Array.from(items.keys());

    const filter = container.querySelector("modus-text-input[id='filter']");
    filter.disabled = false;

    filter.addEventListener('valueChange', (e) => {
      const searchText = e.detail;
      if (searchText) {
        const searchResult = [...items]
          .filter(([key, value]) => {
            return value.toLowerCase().indexOf(searchText) > -1;
          })
          .map(([key, value]) => key);
        const getParents = (e) => {
          if (e.parentNode && e.parentNode.nodeId)
            return [e.parentNode, ...getParents(e.parentNode)];
          return [];
        };
        items.forEach((value, key) => {
          const element = container.querySelector(
            "modus-tree-view-item[node-id='" + key + "']"
          );
          element.expanded = true;
          if (searchResult.includes(key)) {
            element.querySelector("div[slot='label']").style.color = '#0063a3';
            element.style.display = 'block';
            getParents(element).forEach((e) => {
              e.style.display = 'block';
            });
          } else {
            element.querySelector("div[slot='label']").style.color = undefined;
            element.style.display = 'none';
          }
        });
      } else {
        items.forEach((value, key) => {
          const element = container.querySelector(
            "modus-tree-view-item[node-id='" + key + "']"
          );
          element.querySelector("div[slot='label']").style.color = '';
          element.style.display = 'block';
          element.expanded = false;
        });
      }
    });
  }

  filterScript();
</script>
```

### With Item Action Bar

<Story id="components-content-tree--with-action-bar" />

```html
<div>
  <modus-tree-view
    style="width:400px;"
    checkbox-selection="false"
    checked-items="false"
    expanded-items="false"
    multi-checkbox-selection="false"
    multi-selection="false"
    selected-items="false"
    size=""
    class="hydrated">
    <modus-tree-view-item node-id="1" label="Inbox" class="hydrated"></modus-tree-view-item>
  </modus-tree-view>
</div>
<script>
  function loadActions() {
    document.querySelector('[node-id="1"]').actions = [
      { id: 'export', icon: 'export', label: 'Export' },
      { id: 'history', icon: 'history', label: 'History' },
      { id: 'edit', icon: 'pencil', label: 'Edit' },
    ];
  }
  loadActions();
</script>
```

### Accessibility

Every item and the elements such as drag icon, expand & collapse icon and the checkbox are accessible through keyboard. <kbd>Tab</kbd> key moves focus to the next focusable element and <kbd>Shift</kbd> + <kbd>Tab</kbd> moves focus to the previous focusable element. If `disableTabbing` is set `true`, tabbing inside the tree isn't allowed. Please refer to the next section for more details on keyboard interaction.

### Keyboard Navigation

| Key                   | Description                                                                                                                                                                                                                  |
| --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Arrow Left            | Collapses the item                                                                                                                                                                                                           |
| Arrow Right           | Expands the item                                                                                                                                                                                                             |
| Arrow Up              | Moves to the previous focusable item and focus moves to a child if the current or previous parent item is expanded                                                                                                           |
| Arrow Down            | Moves to the next focusable item and focus moves to a child if the current or next parent item is expanded                                                                                                                   |
| Ctrl + click          | If `multi-selection` is true, it performs multiple selection on the clicked items                                                                                                                                            |
| Enter                 | Using <kbd>Tab</kbd> key if the focus is set on an item, pressing `Enter` key will select it and if the focus is on an element like checkbox, collapse/expand icon, pressing `Enter` key will perform operations only on that element |
| Shift + Arrow Up/Down | If `multi-selection` is true, it performs multiple selection starting from the item that is already selected                                                                                                                 |
| Shift + Arrow Right   | Can be used to focus the checkbox inside a tree item if `disableTabbing` is true                                                                                                                                             |
| Space                 | Expands/Collapses the item when it is in focus                                                                                                                                                                               |

### Properties

##### Modus Tree View

| Property                 | Attribute                  | Description                                                                                                                                                                                   | Type                                   | Default      |
| ------------------------ | -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------- | ------------ |
| `borderless`             | `borderless`               | (optional) Whether the content tree and items have a border or not                                                                                                                            | `boolean`                              | `undefined`  |
| `checkboxSelection`      | `checkbox-selection`       | (optional) Enables checkbox selection on each tree item                                                                                                                                       | `boolean`                              | `undefined`  |
| `checkedItems`           | --                         | (optional) Set checked tree items                                                                                                                                                             | `string[]`                             | `[]`         |
| `disableTabbing`         | `disable-tabbing`          | (optional) Disable usage of <kbd>Tab</kbd> key to focus elements inside a tree view. Use `Arrow Up/Down` for focussing a tree item and `Shift + Arrow Right` for focussing a checkbox inside the item. | `boolean`                              | `undefined`  |
| `expandedItems`          | --                         | (optional) Set expanded tree items                                                                                                                                                            | `string[]`                             | `[]`         |
| `multiCheckboxSelection` | `multi-checkbox-selection` | (optional) Enables multiple checkbox selection                                                                                                                                                | `boolean`                              | `undefined`  |
| `multiSelection`         | `multi-selection`          | (optional) Enables multiple tree items selection                                                                                                                                              | `boolean`                              | `undefined`  |
| `selectedItems`          | --                         | (optional) Set selected tree items                                                                                                                                                            | `string[]`                             | `[]`         |
| `size`                   | `size`                     | (optional) The default size of all tree items                                                                                                                                                 | `"condensed" \| "large" \| "standard"` | `'standard'` |

##### Modus Tree View Item

| Property              | Attribute         | Description                                                                                                                          | Type                    | Default     |
| --------------------- | ----------------- | -----------------------------------------------------------------------------------------------------------------------------------  | ----------------------- | ----------- |
| `actions`             | `actions`         | (optional) Actions that can be performed on each item. A maximum of 3 icons will be shown, including overflow menu and expand icons. | `ModusActionBarOptions` | `undefined` |
| `disabled`            | `disabled`        | (optional) Disables the tree item                                                                                                    | `boolean`               | `undefined` |
| `draggableItem`       | `draggable-item`  | (optional) Allows the item to be dragged across the tree                                                                             | `boolean`               | `undefined` |
| `droppableItem`       | `droppable-item`  | (optional) Allows the item to be a drop zone so other tree items can be dropped above it                                             | `boolean`               | `undefined` |
| `editable`            | `editable`        | (optional) Changes the label field into a text box                                                                                   | `boolean`               | `undefined` |
| `label` _(required)_  | `label`           | (required) Label for the tree item                                                                                                   | `string`                | `undefined` |
| `nodeId` _(required)_ | `node-id`         | (required) Unique tree item identifier                                                                                               | `string`                | `undefined` |
| `tabIndexValue`       | `tab-index-value` | (optional) Tab Index for the tree item                                                                                               | `number \| string`      | `0`         |
| `isLastChild          | `is-last-child`   |  To be set true when the tree item is an expandable last child                                                                       | `boolean`               |  false      |

### DOM Events

#### Modus Tree View

| Name            | Description                                                                                                                           | Emits                                  |
| --------------- |-------------------------------------------------------------------------------------------------------------------------------------- |--------------------------------------- |
| itemActionClick | Fired when an action is clicked within any tree item. Includes both the `actionId` and `nodeId` of the action and item, respectively. | `{ actionId: string, nodeId: string }` |

##### Modus Tree View Item

| Name             | Description                                                                           | Emits                  |
| ---------------- | ------------------------------------------------------------------------------------- | ---------------------- |
| actionClick      | Fired when an action button within the tree item is clicked. Includes the `actionId`. | `{ actionId: string }` |
| checkboxClick    | An event that fires on tree item checkbox click                                       | boolean                |
| itemClick        | An event that fires on tree item click                                                | boolean                |
| itemExpandToggle | An event that fires on tree item expand/collapse                                      | boolean                |

### Methods

##### Modus Tree View Item

| Method name     | Description                           | Parameter | Return          |
| --------------- | ------------------------------------- | --------- | --------------- |
| `focusCheckbox` | Focus the checkbox inside a tree item |           | `Promise<void>` |
| `focusItem`     | Focus the tree item                   |           | `Promise<void>` |


### Types

```ts
  type ModusActionBarOptions = {
    id: string;
    icon: string;
    label: string
  };
```
