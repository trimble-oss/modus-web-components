import { Story } from '@storybook/addon-docs';

# Modal

---

[Modus Dialog]() web components interrupt workflows when user interaction is required. They are referenced using the `<modus-modal>` custom HTML element.

This component utilizes the slot element, allowing you to render your own HTML in the content portion of the modal.

### Default

<Story id="components-modal--default" height={'400px'} />

```html
<modus-button id="btn-modal" color="primary">Open modal</modus-button>
<modus-modal
  header-text="Modal title"
  primary-button-text="Save changes"
  secondary-button-text="Sweet!"
  primary-button-aria-label="Save changes"
  secondary-button-aria-label="Sweet">
  <p>Woo-hoo, you're reading this text in a modal!</p>
</modus-modal>

<script>
  document.querySelector('#btn-modal').addEventListener('buttonClick', () => {
    document.querySelector('modus-modal').open();
  });
</script>
```

### Properties

<section>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Options</th>
        <th>Default Value</th>
        <th>Required</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>aria-label</td>
        <td>The modal's aria-label</td>
        <td>string</td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>header-text</td>
        <td>The text to display in the header</td>
        <td>string</td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>primary-button-text</td>
        <td>The text to display in the primary button</td>
        <td>string</td>
        <td></td>
        <td>'Save Changes'</td>
        <td></td>
      </tr>
      <tr>
        <td>secondary-button-text</td>
        <td>The text to display in the secondary button</td>
        <td>string</td>
        <td></td>
        <td>'Close'</td>
        <td></td>
      </tr>
      <tr>
        <td>primary-button-aria-label</td>
        <td>The primary button's aria-label</td>
        <td>string</td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>secondary-button-aria-label</td>
        <td>The secondary button's aria-label</td>
        <td>string</td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>z-index</td>
        <td>The modal's z-index</td>
        <td>string</td>
        <td></td>
        <td>'1'</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</section>

### Methods

<section>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Arguments</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>close()</td>
        <td>Closes the modal</td>
        <td></td>
      </tr>
      <tr>
        <td>open()</td>
        <td>Opens the modal</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</section>

### DOM Events

<section>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Emits</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>closed</td>
        <td>Fires on modal closed</td>
        <td></td>
      </tr>
      <tr>
        <td>opened</td>
        <td>Fires on modal open</td>
        <td></td>
      </tr>
      <tr>
        <td>primaryButtonClick</td>
        <td>Fires on primary button click</td>
        <td></td>
      </tr>
      <tr>
        <td>secondaryButtonClick</td>
        <td>Fires on secondary button click</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</section>

### Accessibility

- Modal has `role` of `dialog`.
- Modal gets `aria-hidden` set to whether Modal is closed.
- When Primary button has focus, **Enter** emits `primaryButtonClick` event.
- When Secondary button has focus, **Enter** emits `secondaryButtonClick` event.
- When the Modal is open, tabbing can be performed only on the focussable elements inside Modal. Note: Pressing `Shift` + `Tab` on Modal Header cannot go back to Modal Footer.
- Pressing `Escape` key closes the Modal and emits `close` event.
