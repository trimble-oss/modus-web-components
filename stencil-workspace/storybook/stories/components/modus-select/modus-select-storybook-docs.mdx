import { Story } from '@storybook/addon-docs';

# Select

---

[Modus Select](https://modus.trimble.com/components/inputs/) web components are replacements for native `<select>` elements. They are referenced using the `<modus-select>` custom HTML element.

This component is compatible with Angular reactive forms. This can be achieved through the implementation of a simple directive.

### Default

<Story id="user-inputs-select--default" height={'325px'} />

```html
<!-- Without preset value -->
<modus-select id="select-demo-1" label="Select Demo 1" options-display-prop="display"></modus-select>
<script>
  const modusSelect = document.querySelector('#select-demo-1');
  modusSelect.options = [{ display: 'Option 1' }, { display: 'Option 2' }, { display: 'Option 3' }];
</script>

<!-- Disabled with helper text and preset value -->
<modus-select
  disabled
  helper-text="Helper demo"
  id="select-demo-2"
  label="Select Demo 2"
  options-display-prop="display"></modus-select>
<script>
  const modusSelect = document.querySelector('#select-demo-2');
  const options = [{ display: 'Option 1' }, { display: 'Option 2' }, { display: 'Option 3' }];
  modusSelect.options = options;
  modusSelect.value = options[1];
</script>

<!-- Error -->
<modus-select error-text="Error demo" label="Select Demo 3"></modus-select>

<!-- Valid -->
<modus-select label="Select Demo 4" valid-text="Valid demo"></modus-select>
```

### Properties

| Property             | Attribute              | Description                                          | Type                                 | Default     |
| -------------------- | ---------------------- | ---------------------------------------------------- | ------------------------------------ | ----------- |
| `ariaLabel`          | `aria-label`           | (optional) The select's aria-label.                  | `string`                             | `undefined` |
| `disabled`           | `disabled`             | (optional) Whether the input is disabled.            | `boolean`                            | `undefined` |
| `menuSize`           | `menu-size`            | The select's dropdown menu size.                     | `"large"    , "medium"    , "small"` | `'medium'`  |
| `errorText`          | `error-text`           | (optional) The input's error text.                   | `string`                             | `undefined` |
| `helperText`         | `helper-text`          | (optional) The input's helper text.                  | `string`                             | `undefined` |
| `label`              | `label`                | (optional) The input label.                          | `string`                             | `undefined` |
| `options`            | --                     | The options for the dropdown list.                   | `unknown[]`                          | `[]`        |
| `optionsDisplayProp` | `options-display-prop` | The options property to render in the dropdown list. | `string`                             | `undefined` |
| `required`           | `required`             | (optional) Whether the input is required.            | `boolean`                            | `undefined` |
| `size`               | `size`                 | (optional) The input's size.                         | `"large"    , "medium"`              | `'medium'`  |
| `validText`          | `valid-text`           | (optional) The input's valid text.                   | `string`                             | `undefined` |
| `value`              | --                     | (optional) The input value.                          | `unknown`                            | `undefined` |

### DOM Events

| Name          | Description           | Emits                            |
| ------------- | --------------------- | -------------------------------- |
| `valueChange` | Fires on value change | The value of the selected option |

### Accessibility

- Select has `role` of `listbox`.
- Select gets an `aria-label` provided by the `aria-label` property input.
- Select gets an `aria-disabled` set to whether Select is disabled.
- Select gets an `aria-required` set to whether the Select is required.
- When Select has focus:
  - **Enter** opens the option list.
  - **ArrowUp**, **ArrowDown** navigate the list.
  - **Enter** selects an item from the list.
  - **Space** closes the open list without selecting an item.
- Select Items get:
  - An `aria-label` set to the display value.
  - An `aria-selected` set to whether the item is selected.
