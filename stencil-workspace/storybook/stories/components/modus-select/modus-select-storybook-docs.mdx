import { Story } from '@storybook/addon-docs';

# Select

---

[Modus Select](https://modus.trimble.com/components/inputs/) web components are replacements for native `<select>` elements. They are referenced using the `<modus-select>` custom HTML element.

This component is compatible with Angular reactive forms. This can be achieved through the implementation of a simple directive.

### Default

<Story id="user-inputs-select--default" height={'565px'} />

```html
<!-- Without preset value -->
<modus-select
  id="select-demo-1"
  label="Select Demo 1"
  options-display-prop="display"></modus-select><br/>

<!-- Disabled with helper text and preset value -->
<modus-select
  id="select-demo-2"
  disabled
  helper-text="Helper demo"
  label="Select Demo 2"
  options-display-prop="display"></modus-select><br/>

<!-- Error -->
<modus-select error-text="Error demo" label="Select Demo 3"></modus-select><br/>

<!-- Valid -->
<modus-select label="Select Demo 4" valid-text="Valid demo"></modus-select><br/>

<!-- Large select -->
<modus-select
  id="select-demo-5"
  label="Select Demo 5"
  size="large"
  options-display-prop="display"></modus-select><br/>

<!-- Custom Placeholder -->
<modus-select id="select-demo-6" label="Custom Placeholder" placeholder="Custom Placeholder" options-display-prop="display"></modus-select><br/>


<script>
  const options = [
    { display: 'Option 1' },
    { display: 'Option 2' },
    { display: 'Option 3' },
  ];

  const select1 = document.querySelector('#select-demo-1');
  select1.options = options;
  select1.value = options[0];
  select1.addEventListener('valueChange', function handleValueChange(e) {
     const selectedOption = e.detail;
     select1.value = selectedOption;
  });

  const select2 = document.querySelector('#select-demo-2');
  select2.options = options;
  select2.value = options[1];
  select2.addEventListener('valueChange', function handleValueChange(e) {
     const selectedOption = e.detail;
     select2.value = selectedOption;
  });

  const select5 = document.querySelector('#select-demo-5');
  select5.options = options;
  select5.value = options[2];
  select5.addEventListener('valueChange', function handleValueChange(e) {
     const selectedOption = e.detail;
     select5.value = selectedOption;
  });

  const select6 = document.querySelector('#select-demo-6');
  select6.options = options;
  select6.addEventListener('valueChange', function handleValueChange(e) {
     const selectedOption = e.detail;
     select6.value = selectedOption;
  });
</script>
```

## Properties

| Property             | Attribute              | Description                                          | Type                  | Default         |
| -------------------- | ---------------------- | ---------------------------------------------------- | --------------------- | --------------- |
| `ariaLabel`          | `aria-label`           | (optional) The select's aria-label.                  | `string`              | `undefined`     |
| `disabled`           | `disabled`             | (optional) Whether the input is disabled.            | `boolean`             | `undefined`     |
| `errorText`          | `error-text`           | (optional) The input's error text.                   | `string`              | `undefined`     |
| `helperText`         | `helper-text`          | (optional) The input's helper text.                  | `string`              | `undefined`     |
| `label`              | `label`                | (optional) The input label.                          | `string`              | `undefined`     |
| `options`            | --                     | The options for the dropdown list.                   | `unknown[]`           | `[]`            |
| `optionsDisplayProp` | `options-display-prop` | The options property to render in the dropdown list. | `string`              | `undefined`     |
| `placeholder`        | `placeholder`          | (optional) The input's placeholder.                  | `string`              | `Please Select` |
| `required`           | `required`             | (optional) Whether the input is required.            | `boolean`             | `undefined`     |
| `size`               | `size`                 | (optional) The input's size.                         | `"large" | "medium"`  | `'medium'`      |
| `validText`          | `valid-text`           | (optional) The input's valid text.                   | `string`              | `undefined`     |
| `value`              | --                     | (optional) The input value.                          | `unknown`             | `undefined`     |

### DOM Events

| Name          | Description           | Emits                            |
| ------------- | --------------------- | -------------------------------- |
| `valueChange` | Fires on value change | The value of the selected option |

### Methods

| Method name  | Description     | Parameter | Return          |
| ------------ | --------------- | --------- | --------------- |
| `focusInput` | Focus the input |           | `Promise<void>` |

### Accessibility

- Select has `role` of `listbox`.
- Select gets an `aria-label` provided by the `aria-label` property input.
- It is recommended to pass `aria-label` when there is no label used so the input is accessible to screen readers.
- Select gets an `aria-disabled` set to whether Select is disabled.
- Select gets an `aria-required` set to whether the Select is required.
- When Select has focus:
  - <kbd>Enter</kbd> opens the option list.
  - **ArrowUp**, **ArrowDown** navigate the list.
  - <kbd>Enter</kbd> selects an item from the list.
- Select Items get:
  - An `aria-label` set to the display value.
  - An `aria-selected` set to whether the item is selected.
